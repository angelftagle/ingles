(function(y,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(y=typeof globalThis<"u"?globalThis:y||self,t(y.VueFlux={},y.Vue))})(this,function(y,t){"use strict";var Ae=Object.defineProperty;var Me=(y,t,F)=>t in y?Ae(y,t,{enumerable:!0,configurable:!0,writable:!0,value:F}):y[t]=F;var f=(y,t,F)=>(Me(y,typeof t!="symbol"?t+"":t,F),F);const F=(l,e)=>{const o=l.__vccOpts||l;for(const[n,s]of e)o[n]=s;return o},it={},lt={type:"button",class:"flux-button",style:{outline:"0"}},at={viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",version:"1.1"},ct=t.createElementVNode("circle",{cx:"50",cy:"50",r:"50"},null,-1),pt={viewBox:"-20 -20 140 140"};function ut(l,e){return t.openBlock(),t.createElementBlock("button",lt,[(t.openBlock(),t.createElementBlock("svg",at,[ct,(t.openBlock(),t.createElementBlock("svg",pt,[t.renderSlot(l.$slots,"default")]))]))])}const O=F(it,[["render",ut]]),dt=l=>Math.round(l),E=l=>Math.floor(l),x=l=>Math.ceil(l),G=({width:l,height:e})=>x(Math.sqrt(l*l+e*e)),Y=({width:l,height:e})=>l/e;class V{constructor({top:e=null,left:o=null}={top:null,left:null}){f(this,"top",t.ref(null));f(this,"left",t.ref(null));this.update({top:e,left:o})}reset(){this.top.value=null,this.left.value=null}isValid(){return![this.top.value,this.left.value].includes(null)}update({top:e,left:o}){this.top.value=e??null,this.left.value=o??null}toValue(){const e={};return this.top.value!==null&&(e.top=this.top.value),this.left.value!==null&&(e.left=this.left.value),e}toPx(){if(!this.isValid())throw new RangeError("Invalid position in pixels");return{top:this.top.value.toString()+"px",left:this.left.value.toString()+"px"}}}class b{constructor({width:e=null,height:o=null}={width:null,height:null}){f(this,"width",t.ref(null));f(this,"height",t.ref(null));this.update({width:e,height:o})}reset(){this.width.value=null,this.height.value=null}isValid(){return![this.width.value,this.height.value].includes(null)}update({width:e,height:o}){this.width.value=e??null,this.height.value=o??null}getAspectRatio(){if(!this.isValid())throw new RangeError("Could not get aspect ratio due to invalid size");return Y(this.toValue())}clone(){return new b(this.toValue())}equals(e){return!(this.width.value!==e.width.value||this.height.value!==e.height.value)}toValue(){const e={};return this.width.value!==null&&(e.width=this.width.value),this.height.value!==null&&(e.height=this.height.value),e}toPx(){if(!this.isValid())throw new RangeError("Invalid size in pixels");return{width:this.width.value.toString()+"px",height:this.height.value.toString()+"px"}}}var B=(l=>(l.fill="fill",l.fit="fit",l))(B||{});class K{constructor(e,o,n=B.fill,s=null,r,c,u){f(this,"src");f(this,"loader",null);f(this,"errorMessage");f(this,"status",t.ref(R.notLoaded));f(this,"realSize",new b);f(this,"displaySize",new b);f(this,"caption","");f(this,"resizeType");f(this,"backgroundColor",null);f(this,"display");f(this,"transition");f(this,"isLoading",()=>this.status.value===R.loading);f(this,"isLoaded",()=>this.status.value===R.loaded);f(this,"isError",()=>this.status.value===R.error);f(this,"resizeProps",t.computed(()=>this.calcResizeProps(this.displaySize)));this.src=e,this.caption=o,this.resizeType=n,this.backgroundColor=s,this.display=r,this.transition=c,this.errorMessage=u}calcResizeProps(e){if([e.isValid(),this.realSize.isValid()].includes(!1))return{};const o=new ht(this.realSize),{size:n,position:s}=o.resizeTo(e,this.resizeType);return{...n.toValue(),...s.toValue()}}getResizeProps(e,o){const n={width:0,height:0,top:0,left:0};return this.displaySize.isValid()||this.displaySize.update(e.toValue()),Object.assign(n,e.equals(this.displaySize)?this.resizeProps.value:this.calcResizeProps(e)),o!==void 0&&(n.top-=o.top.value||0,n.left-=o.left.value||0),n}}const W=t.defineComponent({__name:"FluxImage",props:{color:{},rsc:{},size:{},viewSize:{},offset:{},css:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({base:{overflow:"hidden"},color:t.computed(()=>{var d,h;const i={};return o.color!==void 0&&(i.backgroundColor=o.color),((d=o.rsc)==null?void 0:d.backgroundColor)!==null&&(i.backgroundColor=(h=o.rsc)==null?void 0:h.backgroundColor),i}),rsc:t.computed(()=>{const{rsc:i,size:d,offset:h}=o;if(!i)return{};if(i.status.value===R.notLoaded)return i.load(),{};if(!i.isLoaded()||!d.isValid()||!n.value)return{};const{width:m,height:z,top:g,left:_}=i.getResizeProps(d,h);return{backgroundImage:`url(${i.src})`,backgroundSize:`${m}px ${z}px`,backgroundPosition:`${_}px ${g}px`,backgroundRepeat:"no-repeat"}})}),{style:r,setCss:c,transform:u,show:p,hide:a}=A(n,o,s);return e({setCss:c,transform:u,show:p,hide:a}),(i,d)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"$el",ref:n,class:"flux-image",style:t.normalizeStyle(t.unref(r))},null,4))}});var U=(l=>(l.notLoaded="notLoaded",l.loading="loading",l.loaded="loaded",l.error="error",l))(U||{});const R=U;class ft extends K{constructor(e,o="",n=B.fill,s=null){const r={component:W,props:{}},c={component:W,props:{}},u=`Image ${e} could not be loaded`;super(e,o,n,s,r,c,u)}load(){return this.loader!==null?this.loader:(this.loader=new Promise((e,o)=>{this.status.value=R.loading;const n=new Image;n.onload=()=>this.onLoad(n,e),n.onerror=()=>this.onError(o),n.src=this.src}),this.loader)}onLoad(e,o){this.realSize=new b({width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}),this.status.value=R.loaded,o()}onError(e){this.status.value=R.error,e(this.errorMessage)}}const v=l=>l>=1?"landscape":"portrait";class ht{constructor(e){f(this,"realSize");f(this,"realAspectRatio");f(this,"realOrientation");if(e.isValid()===!1)throw new RangeError("Invalid real size");this.realSize=e,this.realAspectRatio=this.realSize.getAspectRatio(),this.realOrientation=v(this.realAspectRatio)}resizeTo(e,o){if(e.isValid()===!1)throw new RangeError("Invalid size to resize");const n=e.getAspectRatio(),s=v(n),r=this.getAdaptedSize(e,n,s,o),c=this.getAdaptedPosition(e,n,r,o);return{size:r,position:c}}getAdaptedSize(e,o,n,s){return n==="landscape"&&this.realOrientation==="portrait"&&s===B.fill?this.getAdaptedSizeByWith(e):n==="landscape"&&this.realOrientation==="landscape"&&o>=this.realAspectRatio&&s===B.fill?this.getAdaptedSizeByWith(e):n==="landscape"&&this.realOrientation==="landscape"&&o<this.realAspectRatio&&s===B.fit?this.getAdaptedSizeByWith(e):n==="portrait"&&this.realOrientation==="landscape"&&s===B.fit?this.getAdaptedSizeByWith(e):n==="portrait"&&this.realOrientation==="portrait"&&o>this.realAspectRatio&&s===B.fill?this.getAdaptedSizeByWith(e):n==="portrait"&&this.realOrientation==="portrait"&&o<=this.realAspectRatio&&s===B.fit?this.getAdaptedSizeByWith(e):this.getAdaptedSizeByHeight(e)}getAdaptedSizeByWith(e){return new b({width:e.width.value,height:e.width.value/this.realAspectRatio})}getAdaptedSizeByHeight(e){return new b({width:this.realAspectRatio*e.height.value,height:e.height.value})}getAdaptedPosition(e,o,n,s){return this.realAspectRatio<=o&&s===B.fill?this.getAdaptedPositionVertically(e,n):this.realAspectRatio>o&&s===B.fit?this.getAdaptedPositionVertically(e,n):this.getAdaptedPositionHorizontally(e,n)}getAdaptedPositionVertically(e,o){return new V({top:(e.height.value-o.height.value)/2,left:0})}getAdaptedPositionHorizontally(e,o){return new V({top:0,left:(e.width.value-o.width.value)/2})}}class mt{constructor(e,o,n,s,r,c,u){f(this,"rscs",[]);f(this,"counter",{success:0,error:0,total:0});f(this,"toPreload");f(this,"preLoading",[]);f(this,"lazyLoading",[]);f(this,"progress",t.ref(0));f(this,"displaySize");f(this,"onPreloadStart");f(this,"onPreloadEnd");f(this,"onLazyLoadStart");f(this,"onLazyLoadEnd");this.rscs=e,this.toPreload=o>e.length?e.length:o,this.displaySize=n,this.onPreloadStart=s,this.onPreloadEnd=r,this.onLazyLoadStart=c,this.onLazyLoadEnd=u,this.preloadStart()}preloadStart(){this.onPreloadStart();const{counter:e}=this,o=this.rscs.slice(e.total,e.total+this.toPreload-e.success);this.preLoading=this.preLoading.concat(o),o.forEach(n=>this.load(n))}preloadEnd(){const{counter:e,toPreload:o}=this;if(e.success<o&&e.total<o){this.preloadStart();return}const n=this.preLoading.filter(s=>s.resource.isLoaded());this.onPreloadEnd(n),this.preLoading.length=0,e.total<this.rscs.length&&this.lazyLoadStart()}lazyLoadStart(){this.onLazyLoadStart(),this.lazyLoading=this.rscs.slice(this.counter.total),this.lazyLoading.forEach(e=>this.load(e))}lazyLoadEnd(){const e=this.lazyLoading.filter(o=>o.resource.isLoaded());this.onLazyLoadEnd(e),this.lazyLoading.length=0}load(e){e.resource.load().then(()=>{this.loadSuccess(e)}).catch(o=>{this.loadError(o)}).finally(()=>{this.counter.total++,this.preLoading.length!==0&&this.updateProgress(),this.counter.total===this.toPreload?this.preloadEnd():this.counter.total===this.rscs.length&&this.lazyLoadEnd()})}loadSuccess(e){this.counter.success++,e.resource.displaySize.update(this.displaySize.toValue())}loadError(e){this.counter.error++,console.error(e)}updateProgress(){this.progress.value=x(this.counter.success*100/this.toPreload)||0}}function A(l,e,o){o.base===void 0&&(o.base={});const n=t.computed(()=>{const{size:a,viewSize:i=new b}=e,{width:d=a.width.value,height:h=a.height.value}=i.toValue(),m=new b({width:d,height:h});return m.isValid()?m.toPx():{}}),s=t.computed(()=>({...t.unref(n),...t.unref(o.color),...t.unref(o.rsc),...t.unref(e.css),...t.unref(o.base)})),r=a=>{Object.assign(o.base,a)};return{style:s,setCss:r,transform:a=>{l.value!==null&&(l.value.clientHeight,r(a))},show:()=>{r({visibility:"visible"})},hide:()=>{r({visibility:"hidden"})}}}const q={x:{top:"90",bottom:"-90"},y:{back:"180",backr:"180",backl:"-180",left:"-90",right:"90"}},J={x:{left:"-50",right:"50"},y:{top:"-50",bottom:"50"}};class yt{constructor(e,o,n){f(this,"depth");f(this,"size");f(this,"viewSize");f(this,"translateZ",t.computed(()=>{const e=this.depth/2,{width:o,height:n}=this.size.toValue(),{width:s,height:r}=this.viewSize.toValue();return{front:0,back:this.depth,backr:this.depth,backl:this.depth,left:e,right:(s??o)-e,top:e,bottom:(r??n)-e}}));this.depth=e,this.size=o,this.viewSize=n}getRotate(e){const o=q.x[e]??"0",n=q.y[e]??"0";return`rotateX(${o}deg) rotateY(${n}deg)`}getTranslate(e){const o=J.x[e]??"0",n=J.y[e]??"0",s=this.translateZ.value[e].toString();return`translate3d(${o}%, ${n}%, ${s}px)`}getSideCss(e){return`${this.getRotate(e)} ${this.getTranslate(e)}`}}class gt{static getProps(e,o,n,s,r){const{depth:c,size:u,viewSize:p}=e,a={name:o,component:s?s.transition.component:W,color:n,rsc:s,size:u.clone(),viewSize:p.clone(),offset:r,style:{position:"absolute",transform:e.getSideCss(o),backfaceVisibility:"hidden"}};return["left","right"].includes(o)&&(a.viewSize.width.value=c,a.size.width.value=c),["top","bottom"].includes(o)&&(a.viewSize.height.value=c,a.size.height.value=c),a}}var M=(l=>(l.front="front",l.back="back",l.left="left",l.right="right",l.top="top",l.bottom="bottom",l))(M||{});function wt(l,e,o){return!!(e&&e[l]||o&&o[l])}function kt(l,e,o,n){const s=Object.values(M);return l||o?s:Object.values(M).filter(r=>wt(r,e,n))}class zt{static getSidesProps(e,o,n,s,r,c,u){const p=kt(o,n,s,r),a={};return p.forEach(i=>{a[i]=gt.getProps(e,i,n&&n[i]?n[i]:o,r&&r[i]?r[i]:s,u&&u[i]?u[i]:c)}),a}}const X=t.defineComponent({__name:"FluxCube",props:{colors:{default:()=>({})},rscs:{default:()=>({})},offsets:{default:()=>({})},depth:{default:0},origin:{},color:{},rsc:{},size:{},viewSize:{default:()=>new b},offset:{},css:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.computed(()=>o.origin!==void 0?o.origin:`center center -${o.depth/2}px`),r=t.reactive({base:{transformStyle:"preserve-3d",transformOrigin:s}}),{style:c,setCss:u,transform:p,show:a,hide:i}=A(n,o,r),d=t.computed(()=>new yt(o.depth,o.size,o.viewSize)),h=t.computed(()=>zt.getSidesProps(d.value,o.color,o.colors,o.rsc,o.rscs,o.offset,o.offsets));return e({setCss:u,transform:p,show:a,hide:i,turn:z=>p({transform:d.value.getRotate(z)})}),(z,g)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"$el",ref:n,class:"flux-cube",style:t.normalizeStyle(t.unref(c))},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(h.value,_=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(_.component),t.mergeProps({key:_.name},_),null,16))),128))],4))}});var N=(l=>(l.front="front",l.back="back",l.backr="backr",l.backl="backl",l.left="left",l.right="right",l.top="top",l.bottom="bottom",l))(N||{});function Z(l,e){return E(l/e)}function Q(l,e){return l%e}class $t{static getProps(e,o){let{width:n,height:s}=o.size.toValue();const r=Z(o.number,e.numCols),c=Q(o.number,e.numCols),u={color:e.color,colors:e.colors,rsc:e.rsc,rscs:e.rscs,size:e.size,depth:e.depth,offset:new V({top:r*s,left:c*n})};return r+1===e.numRows&&(s=e.size.height.value-r*s),c+1===e.numCols&&(n=e.size.width.value-c*n),u.viewSize=new b({width:n,height:s}),u.css={...o.css,position:"absolute",...u.offset.toPx(),zIndex:o.number+1<e.numTiles/2?o.number+1:e.numTiles-o.number},u}}class _t{static getTilesProps(e){const{rows:o,cols:n,size:s,color:r,colors:c,rsc:u,rscs:p,depth:a}=e,i=x(o),d=x(n),h={numRows:i,numCols:d,numTiles:i*d,size:s,depth:a,color:r,colors:c,rsc:u,rscs:p},m={number:0,size:new b({width:E(s.width.value/d),height:E(s.height.value/i)}),css:e.tileCss},z=[];for(let g=0;g<h.numTiles;g++)m.number=g,z.push($t.getProps(h,m));return z}}const S=t.defineComponent({__name:"FluxGrid",props:{colors:{},rscs:{},rows:{default:1},cols:{default:1},depth:{default:0},tileCss:{},color:{},rsc:{},size:{},viewSize:{},offset:{},css:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({base:{position:"relative"}}),{style:r,setCss:c,show:u,hide:p}=A(n,o,s),a=t.computed(()=>{var m;return o.rscs!==void 0?X:(m=o.rsc)==null?void 0:m.transition.component}),i=t.computed(()=>_t.getTilesProps(o)),d=t.ref([]);return t.onBeforeUpdate(()=>{d.value=[]}),e({setCss:c,transform:m=>{d.value.forEach((z,g)=>m(z,g))},show:u,hide:p,getRowNumber:Z,getColNumber:Q}),(m,z)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"$el",ref:n,class:"flux-grid",style:t.normalizeStyle(t.unref(r))},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(i.value,(g,_)=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(a.value),t.mergeProps({ref_for:!0,ref:P=>d.value.push(P),key:_},g),null,16))),128))],4))}}),Ct=t.defineComponent({__name:"FluxParallax",props:{rsc:{},holder:{default:()=>window},type:{default:"relative"},offset:{default:"100%"}},setup(l,{expose:e}){const o=l,n=t.ref(null),{holder:s,rsc:r}=o,c={base:{position:"relative",background:`url("${r.src}") no-repeat`},defined:t.reactive({}),final:t.computed(()=>({...c.base,...t.unref(c.defined)}))},u=(/iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.userAgent==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream,p=t.reactive({width:0,height:0,aspectRatio:t.computed(()=>Y(p))}),a=t.reactive({top:0,width:0,height:0,aspectRatio:t.computed(()=>Y(a))}),i=t.reactive({top:0,left:0,width:0,height:0}),d={position:"absolute",top:0,left:0,bottom:0,right:0,clip:"rect(auto auto auto auto)"},h=t.computed(()=>({position:"absolute",top:0,bottom:0,left:0,right:0,background:`url("${r.src}") no-repeat center center fixed`,backgroundSize:`${i.width}px ${i.height}px`})),m=t.computed(()=>{const{offset:w}=o,$=parseFloat(w);return/^[0-9]+px$/.test(w)?{px:$,pct:$*100/i.height}:/^[0-9]+%$/.test(w)?{px:x(a.height*$/100),pct:$}:{px:0,pct:0}}),z=t.computed(()=>{const w=u?p.height:a.height+m.value.px;return i.height-w});t.onMounted(()=>{window.addEventListener("resize",g,{passive:!0}),(o.type!=="fixed"||u)&&s.addEventListener("scroll",P,{passive:!0}),r.load().then(()=>{g()})}),t.onUnmounted(()=>{window.removeEventListener("resize",g),s.removeEventListener("scroll",P)});const g=()=>{p.width=s.scrollWidth||s.innerWidth,p.height=s.scrollHeight||s.innerHeight,a.width=n.value.clientWidth,a.height=n.value.clientHeight,a.top=n.value.getBoundingClientRect().top+window.scrollY,r.displaySize.update(p);const w=r.resizeProps.value;i.width=w.width,i.height=w.height,c.defined.backgroundSize=`${i.width}px ${i.height}px`,c.defined.backgroundPosition="center 0",P()},_=w=>{z.value>0&&(w=w*m.value.pct/100+50-m.value.pct/2),c.defined.backgroundPositionY=w.toFixed(2)+"%"},P=()=>{if(!r.isLoaded()||!u&&o.type==="fixed")return;const w=s.scrollY||s.scrollTop||0;if(s!==window)return T.relative(w);if(w+p.height<a.top||w>a.top+a.height)return;let $=w-a.top+p.height;T[o.type]($)},T={visible:w=>{let $=0;w<a.height?$=0:w>p.height?$=100:$=(w-a.height)*100/(p.height-a.height),_($)},relative:w=>{let $;s===window?$=w*100/(p.height+a.height):$=w*100/(p.height-s.clientHeight),_($)},fixed:w=>{c.defined.backgroundPositionY=w-p.height+"px"}};return e({resize:g}),(w,$)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"$el",ref:n,class:"flux-parallax",style:t.normalizeStyle(c.final.value)},[o.type==="fixed"&&!t.unref(u)?(t.openBlock(),t.createElementBlock("div",{key:0,style:d},[t.createElementVNode("div",{class:"image",style:t.normalizeStyle(h.value)},null,4)])):t.createCommentVNode("",!0),t.renderSlot(w.$slots,"default")],4))}}),tt=t.defineComponent({__name:"FluxTransition",props:{size:{},transition:{},from:{},to:{},displayComponent:{},options:{default:()=>({})}},emits:["ready","start","end"],setup(l,{expose:e,emit:o}){const n=l,s=t.ref(null),r=t.ref(null),c=o,u=t.reactive({base:{overflow:"hidden",perspective:"none",zIndex:3}}),p=t.computed(()=>{const{width:h,height:m}=n.size.toPx();return{...u.base,width:h,height:m}}),a=t.ref(1);t.onMounted(async()=>{await t.nextTick(),r.value!==null&&(a.value=r.value.totalDuration),c("ready",{transition:n.transition,from:n.from,to:n.to,options:n.options,duration:a.value})});async function i(){c("start",{transition:n.transition,from:n.from,to:n.to,options:n.options,duration:a.value}),await t.nextTick(),r.value===null?console.error("Transition component available",n.transition):r.value.onPlay(),setTimeout(()=>d(),a.value)}function d(){c("end",{transition:n.transition,from:n.from,to:n.to,options:n.options,duration:a.value})}return t.onUnmounted(()=>{n.displayComponent&&n.displayComponent.show()}),e({start:i}),(h,m)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"$el",ref:s,class:"flux-transition",style:t.normalizeStyle(p.value)},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(h.transition),{ref_key:"$transition",ref:r,size:h.size,from:h.from,to:h.to,"display-component":h.displayComponent,options:h.options,"mask-style":u.base},null,8,["size","from","to","display-component","options","mask-style"]))],4))}});class bt{static getProps(e,o,n){const s=(e.numCircles-o)*e.radius*2,r=e.radius*o,c={offset:new V({top:e.topGap+r,left:e.leftGap+r})};return c.css={...n,position:"absolute",...c.offset.toPx(),width:s+"px",height:s+"px",backgroundRepeat:"repeat",borderRadius:"50%",zIndex:o},c}}class Bt{static getCirclesProps(e){const{width:o,height:n}=e.size.toValue(),s=dt(e.circles),r=G({width:o,height:n}),c=x(r/2/s),u=x(n/2-c*s),p=x(o/2-c*s),a={numCircles:s,diagonal:r,radius:c,topGap:u,leftGap:p},i=[];for(let d=0;d<s;d++)i.push(bt.getProps(a,d,e.tileCss));return i}}const H=t.defineComponent({__name:"FluxVortex",props:{rsc:{},circles:{default:1},tileCss:{},color:{},size:{},viewSize:{},offset:{},css:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({base:{position:"relative",overflow:"hidden"}}),{style:r,setCss:c,show:u,hide:p}=A(n,o,s),a=t.computed(()=>Bt.getCirclesProps(o)),i=t.ref([]);return t.onBeforeUpdate(()=>{i.value=[]}),e({setCss:c,transform:h=>{i.value.forEach((m,z)=>h(m,z))},show:u,hide:p}),(h,m)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"$el",ref:n,class:"flux-vortex",style:t.normalizeStyle(t.unref(r))},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(a.value,(z,g)=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(h.rsc.transition.component),{ref_for:!0,ref:_=>i.value.push(_),key:g,size:h.size,rsc:h.rsc,offset:z.offset,css:z.css},null,8,["size","rsc","offset","css"]))),128))],4))}}),j=t.defineComponent({__name:"FluxWrapper",props:{color:{},rsc:{},size:{},viewSize:{},offset:{},css:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({base:{overflow:"hidden"}}),{style:r,setCss:c,transform:u,show:p,hide:a}=A(n,o,s);return e({setCss:c,transform:u,show:p,hide:a}),(i,d)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"$el",ref:n,class:"flux-wrapper",style:t.normalizeStyle(t.unref(r))},[t.renderSlot(i.$slots,"default")],4))}});var k=(l=>(l.prev="prev",l.next="next",l))(k||{}),D=(l=>(l.stopped="stopped",l.playing="playing",l))(D||{});class et{constructor(){f(this,"current",null);f(this,"from",null);f(this,"to",null)}reset(){this.current=null,this.from=null,this.to=null}init(e){this.current=e.getFirst()}}class ot{constructor(){f(this,"current",null);f(this,"last",null)}reset(){this.current=null,this.last=null}init(e){this.last=e.getLast()}}class St{constructor(e){f(this,"list",t.shallowReactive([]));f(this,"loader",t.ref(null));f(this,"emit");this.emit=e}getPrev(e){return this.getByIndex(e>0?e-1:this.list.length-1)}getNext(e){return this.getByIndex(e===this.list.length-1?0:e+1)}getFirst(){return this.getByIndex(0)}getLast(){return this.getByOrder(k.prev,0)}getByIndex(e){if(this.list[e]===void 0)throw new ReferenceError(`Resource index ${e} not found`);return{index:e,rsc:this.list[e].resource,options:JSON.parse(JSON.stringify(this.list[e].options))}}getByOrder(e,o){return{prev:()=>this.getPrev(o),next:()=>this.getNext(o)}[e]()}find(e,o){if(typeof e=="number")return this.getByIndex(e);if(o===void 0)throw new ReferenceError("Missing currentIndex parameter");return this.getByOrder(e,o)}update(e,o,n){this.list.splice(0);const s=t.toRaw(e).map(c=>{let u=c,p={};return"resource"in c&&(u=c.resource,"options"in c&&(p=c.options)),{resource:u,options:p}});return new Promise(c=>{this.loader.value=new mt(s,o,n,()=>this.preloadStart(),u=>this.preloadEnd(u,c),()=>this.lazyLoadStart(),u=>this.lazyLoadEnd(u))})}preloadStart(){this.emit("resourcesPreloadStart")}preloadEnd(e,o){e.forEach(n=>this.list.push(n)),this.emit("resourcesPreloadEnd"),o()}lazyLoadStart(){this.emit("resourcesLazyloadStart")}lazyLoadEnd(e){e.forEach(o=>this.list.push(o)),this.emit("resourcesLazyloadEnd")}}class Dt{constructor(){f(this,"list",t.shallowReactive([]))}getPrev(e){return this.getByIndex(e>0?e-1:this.list.length-1)}getNext(e){return this.getByIndex(e===this.list.length-1?0:e+1)}getFirst(){return this.getByIndex(0)}getLast(){return this.getByOrder(k.prev,0)}getByIndex(e){return{index:e,component:this.list[e].component,options:JSON.parse(JSON.stringify(this.list[e].options))}}getByOrder(e,o){return{prev:()=>this.getPrev(o),next:()=>this.getNext(o)}[e]()}update(e){this.list.splice(0),t.toRaw(e).forEach(o=>{let n=o,s={};"component"in o&&(n=o.component,"options"in o&&(s=o.options)),this.list.push({component:n,options:s})})}}class st{constructor(e,o,n){f(this,"resource");f(this,"transition");f(this,"status",t.ref(D.stopped));f(this,"config");f(this,"timers");f(this,"emit");f(this,"resources");f(this,"transitions");f(this,"$displayComponent",t.ref(null));this.config=e,this.timers=o,this.emit=n,this.resources=new St(n),this.transitions=new Dt,this.resource=t.shallowReactive(new et),this.transition=t.shallowReactive(new ot)}setup(e){this.$displayComponent=e}play(e=k.next,o){var u,p;const{config:n,timers:s,resource:r}=this;if(this.status.value=D.playing,this.transition.current!==null)return;const c=(p=this.resources)==null?void 0:p.find(e,(u=r.current)==null?void 0:u.index);s.set("transition",o||(c==null?void 0:c.options.delay)||n.delay,()=>{this.show(e)}),this.emit("play",e,o)}async stop(e=!1){const{timers:o}=this;this.status.value=D.stopped,o.clear("transition"),this.transition.current!==null&&e===!0&&await this.end(e),this.emit("stop")}isReadyToShow(){if(this.resource.current===null)throw new ReferenceError("Current resource not set");if(this.resources===null)throw new ReferenceError("Resources list not set");if(this.resources.list.length===0)throw new RangeError("Resources list empty");if(this.transition.last===null)throw new ReferenceError("Last transition not set");if(this.transitions===null)throw new ReferenceError("Transitions list not set");if(this.transitions.list.length===0)throw new RangeError("Transitions list empty");if(this.$displayComponent.value===null)throw new ReferenceError("Display component not set");return!0}async show(e=k.next,o=k.next){if(!this.isReadyToShow())return;const{resource:n,resources:s,config:r,transitions:c}=this;if(this.transition.current!==null){r.allowToSkipTransition&&(await this.end(!0),this.show(e,o));return}const u=s.find(e,n.current.index);if(n.current.index===u.index)return;this.timers.clear("transition"),this.resource.from=n.current,this.resource.to=u;const p=typeof o=="number"?c.getByIndex(o):c.getByOrder(o,this.transition.last.index);p.options.direction===void 0&&(typeof e!="number"?p.options.direction=e:p.options.direction=this.resource.from.index<this.resource.to.index?k.next:k.prev),this.transition.current=p,this.emit("show",this.resource,this.transition)}start(){this.resource.current=this.resource.to,this.emit("transitionStart",this.resource,this.transition)}async end(e=!1){const{config:o,resource:n,resources:s,timers:r,transition:c}=this;if(!(n.current===null||s===null)){if(c.last=c.current,c.current=null,await t.nextTick(),this.emit(e?"transitionCancel":"transitionEnd",this.resource,this.transition),o.infinite===!1&&n.current.index>=s.list.length-1&&this.status.value===D.playing){this.stop();return}if(n.current.options.stop===!0){this.stop();return}this.status.value===D.playing&&e===!1&&r.set("transition",n.current.options.delay||o.delay,()=>{this.show()})}}}class I{constructor(e,o=null,n=null){f(this,"node");f(this,"config");f(this,"emit",null);f(this,"size",new b);f(this,"inFullScreen",()=>!!document.fullscreenElement);this.node=e,this.config=o,this.emit=n}static async getSize(e){const o=new I(e);return await o.updateSize(),o.size}addResizeListener(){window.addEventListener("resize",()=>this.updateSize(),{passive:!0})}removeResizeListener(){window.removeEventListener("resize",this.updateSize)}getAspectRatio(){if(this.config!==null){const[e,o]=this.config.aspectRatio.split(":");return[parseFloat(e),parseFloat(o)]}return[16,9]}async updateSize(){if(this.size.reset(),await t.nextTick(),this.node.value===null)return;const e=getComputedStyle(this.node.value);let o=parseFloat(e.width),n=parseFloat(e.height);if(["0px","auto",null].includes(e.height)){const[s,r]=this.getAspectRatio();n=o/s*r}this.size.update({width:o,height:n})}toggleFullScreen(){this.inFullScreen()?this.exitFullScreen():this.enterFullScreen()}async enterFullScreen(){var e,o;((e=this.node)==null?void 0:e.value)===null||!((o=this.config)!=null&&o.allowFullscreen)||(await this.node.value.requestFullscreen(),this.emit!==null&&this.emit("fullscreenEnter"))}async exitFullScreen(){await document.exitFullscreen(),this.emit!==null&&this.emit("fullscreenExit")}}class xt{constructor(e,o){f(this,"config");f(this,"player");this.config=e,this.player=o}setup(){this.removeKeyListener(),this.config.bindKeys&&this.addKeyListener()}addKeyListener(){window.addEventListener("keydown",e=>this.keydown(e),{passive:!0})}removeKeyListener(){window.removeEventListener("keydown",()=>this.keydown)}keydown(e){if(["ArrowLeft","Left"].includes(e.key)){this.player.show(k.prev);return}if(["ArrowRight","Right"].includes(e.key)){this.player.show(k.next);return}}}class Pt{constructor(){f(this,"isOver",t.ref(!1))}setup(e,o){o.clear("mouseOver"),e.autohideTime===0&&(this.isOver.value=!0)}toggle(e,o,n){e.autohideTime!==0&&(this.isOver.value=n,this[n?"over":"out"](e,o))}out(e,o){o.clear("mouseOver")}over(e,o){o.set("mouseOver",e.autohideTime,()=>this.isOver.value=!1)}}class Et{constructor(){f(this,"timers",{})}set(e,o,n){this.clear(e),this.timers[e]=setTimeout(n,o)}clear(e){(e!==void 0?[e]:Object.keys(this.timers)).forEach(n=>{clearTimeout(this.timers[n]),delete this.timers[n]})}}const nt=Math.abs;class Lt{constructor(){f(this,"startX",0);f(this,"startY",0);f(this,"startTime",0);f(this,"endTime",0);f(this,"prevTouchTime",0);f(this,"tapThreshold",5);f(this,"doubleTapThreshold",200);f(this,"slideTrigger",.3);f(this,"tap",(e,o)=>nt(e)<this.tapThreshold&&nt(o)<this.tapThreshold);f(this,"doubleTap",()=>this.endTime-this.prevTouchTime<this.doubleTapThreshold);f(this,"slideLeft",(e,o)=>o.size.isValid()&&e<0&&e<-(o.size.width.value*this.slideTrigger));f(this,"slideRight",(e,o)=>o.size.isValid()&&e>0&&e>o.size.width.value*this.slideTrigger);f(this,"slideUp",(e,o)=>o.size.isValid()&&e<0&&e<-(o.size.height.value*this.slideTrigger));f(this,"slideDown",(e,o)=>o.size.isValid()&&e>0&&e>o.size.height.value*this.slideTrigger)}start(e,o){o.enableGestures&&(this.startTime=Date.now(),this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY)}end(e,o,n,s,r,c){this.prevTouchTime=this.endTime,this.endTime=Date.now();const u=e.changedTouches[0].clientX-this.startX,p=e.changedTouches[0].clientY-this.startY;if(this.tap(u,p)){c.toggle(o,r,!0);return}o.enableGestures&&(this.slideRight(u,s)?n.show(k.prev):this.slideLeft(u,s)&&n.show(k.next))}}const Vt={key:2,class:"complements"},Rt=t.createElementVNode("div",{class:"remainder upper"},null,-1),Tt=t.createElementVNode("div",{class:"remainder lower"},null,-1),Ft=t.defineComponent({__name:"VueFlux",props:{options:{},rscs:{},transitions:{}},emits:["created","mounted","unmounted","play","stop","show","optionsUpdated","transitionsUpdated","resourcesPreloadStart","resourcesPreloadEnd","resourcesLazyloadStart","resourcesLazyloadEnd","fullscreenEnter","fullscreenExit","transitionStart","transitionCancel","transitionEnd"],setup(l,{expose:e,emit:o}){const n=l,s=o,r=t.ref(null),c=t.ref(null),u=t.ref(null),p=t.reactive({allowFullscreen:!1,allowToSkipTransition:!0,aspectRatio:"16:9",autohideTime:2500,autoplay:!1,bindKeys:!1,delay:5e3,enableGestures:!1,infinite:!0,lazyLoad:!0,lazyLoadAfter:5}),a=new Et,i=new st(p,a,s),d=i.resources,h=i.transitions,m=new I(r,p,s),z=new xt(p,i),g=new Pt,_=new Lt,P=()=>{Object.assign(p,n.options),g.setup(p,a),z.setup()};t.watch(()=>n.options,()=>{P(),s("optionsUpdated")},{deep:!0}),t.watch(()=>n.rscs,async()=>{const w=i.status.value===D.playing;w&&await i.stop(!0),i.resource.reset();const $=p.lazyLoad?p.lazyLoadAfter:n.rscs.length;await d.update(n.rscs,$,m.size),i.resource.init(d),w&&i.play()}),t.watch(()=>n.transitions,async()=>{const w=i.status.value===D.playing;w&&await i.stop(!0),i.transition.reset(),h.update(n.transitions),i.transition.init(h),w&&i.play(),s("transitionsUpdated")}),t.onMounted(async()=>{P(),await m.updateSize(),m.addResizeListener(),i.setup(u),h.update(n.transitions),i.transition.init(h),await d.update(n.rscs,p.lazyLoadAfter,m.size),i.resource.init(d),p.autoplay===!0&&i.play(),s("mounted")}),t.onUnmounted(()=>{a.clear(),m.removeResizeListener(),z.removeKeyListener(),s("unmounted")});const T=t.computed(()=>m.size.isValid()?m.inFullScreen()?{width:"100% !important",height:"100% !important"}:m.size.toPx():{});return e({show:i.show.bind(i),play:i.play.bind(i),stop:i.stop.bind(i),getPlayer:()=>i,size:m.size}),s("created"),(w,$)=>(t.openBlock(),t.createElementBlock("div",{ref_key:"$container",ref:r,class:"vue-flux",style:t.normalizeStyle(T.value),onMousemove:$[3]||($[3]=L=>t.unref(g).toggle(p,t.unref(a),!0)),onMouseleave:$[4]||($[4]=L=>t.unref(g).toggle(p,t.unref(a),!1)),onDblclick:$[5]||($[5]=L=>t.unref(m).toggleFullScreen()),onTouchstart:$[6]||($[6]=L=>t.unref(_).start(L,p)),onTouchend:$[7]||($[7]=L=>t.unref(_).end(L,p,t.unref(i),t.unref(m),t.unref(a),t.unref(g)))},[t.unref(i).transition.current!==null&&t.unref(m).size.isValid()&&t.unref(i).resource.from!==null&&t.unref(i).resource.to!==null?(t.openBlock(),t.createBlock(t.unref(tt),{key:0,ref_key:"$transition",ref:c,transition:t.unref(i).transition.current.component,size:t.unref(m).size,from:t.unref(i).resource.from.rsc,to:t.unref(i).resource.to.rsc,"display-component":u.value,options:t.unref(i).transition.current.options,onReady:$[0]||($[0]=L=>{var rt;return(rt=c.value)==null?void 0:rt.start()}),onStart:$[1]||($[1]=L=>t.unref(i).start()),onEnd:$[2]||($[2]=L=>t.unref(i).end())},null,8,["transition","size","from","to","display-component","options"])):t.createCommentVNode("",!0),t.unref(i).resource.current!==null?(t.openBlock(),t.createBlock(t.resolveDynamicComponent(t.unref(i).resource.current.rsc.display.component),t.mergeProps({key:1,ref_key:"$displayComponent",ref:u,size:t.unref(m).size,rsc:t.unref(i).resource.current.rsc},t.unref(i).resource.current.rsc.display.props),null,16,["size","rsc"])):t.createCommentVNode("",!0),t.unref(m).size.isValid()?(t.openBlock(),t.createElementBlock("div",Vt,[t.renderSlot(w.$slots,"preloader",{loader:t.unref(d).loader}),t.renderSlot(w.$slots,"caption",{player:t.unref(i)}),Rt,t.renderSlot(w.$slots,"controls",{mouseOver:t.unref(g).isOver,player:t.unref(i)}),Tt,t.renderSlot(w.$slots,"index",{mouseOver:t.unref(g).isOver,displaySize:t.unref(m).size,player:t.unref(i)}),t.renderSlot(w.$slots,"pagination",{player:t.unref(i)})])):t.createCommentVNode("",!0)],36))}}),Nt=t.defineComponent({__name:"FluxCaption",props:{player:{}},setup(l){const e=l,{resource:o,transition:n}=e.player,s=t.computed(()=>o.current===null||o.current.rsc.caption===null?"&nbsp;":o.current.rsc.caption),r=t.computed(()=>{const c=["flux-caption"];return n.current===null&&o.current!==null&&o.current.rsc.caption.length>0&&c.push("visible"),c});return(c,u)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(r.value)},[t.renderSlot(c.$slots,"default",{caption:s.value},()=>[t.createTextVNode(t.toDisplayString(s.value),1)])],2))}}),Ot=t.createElementVNode("polyline",{points:"64,18 22,50 64,82"},null,-1),At=t.defineComponent({__name:"Prev",setup(l){return(e,o)=>(t.openBlock(),t.createBlock(t.unref(O),{class:"prev top left"},{default:t.withCtx(()=>[Ot]),_:1}))}}),Mt=t.createElementVNode("polygon",{points:"32,12 82,50 32,88"},null,-1),Wt=t.defineComponent({__name:"Play",setup(l){return(e,o)=>(t.openBlock(),t.createBlock(t.unref(O),{class:"play"},{default:t.withCtx(()=>[Mt]),_:1}))}}),Xt=t.createElementVNode("line",{x1:"32",y1:"22",x2:"32",y2:"78"},null,-1),jt=t.createElementVNode("line",{x1:"68",y1:"22",x2:"68",y2:"78"},null,-1),Yt=t.defineComponent({__name:"Stop",setup(l){return(e,o)=>(t.openBlock(),t.createBlock(t.unref(O),{class:"pause"},{default:t.withCtx(()=>[Xt,jt]),_:1}))}}),Ht=t.createElementVNode("polyline",{points:"36,18 78,50 36,82"},null,-1),It=t.defineComponent({__name:"Next",setup(l){return(e,o)=>(t.openBlock(),t.createBlock(t.unref(O),{class:"next top right"},{default:t.withCtx(()=>[Ht]),_:1}))}}),Gt={key:0,class:"flux-controls"},Kt=t.defineComponent({__name:"FluxControls",props:{mouseOver:{type:[Boolean,Object],default:void 0},player:{}},setup(l){const e=l,o=t.computed(()=>!(e.player.resource.current===null||e.mouseOver!==void 0&&t.unref(e.mouseOver)===!1));return(n,s)=>(t.openBlock(),t.createBlock(t.Transition,{name:"fade"},{default:t.withCtx(()=>[o.value?(t.openBlock(),t.createElementBlock("div",Gt,[t.createVNode(At,{onClick:s[0]||(s[0]=r=>n.player.show(t.unref(k).prev))}),n.player.status.value===t.unref(D).stopped?(t.openBlock(),t.createBlock(Wt,{key:0,onClick:s[1]||(s[1]=r=>n.player.play(t.unref(k).next,1))})):t.createCommentVNode("",!0),n.player.status.value===t.unref(D).playing?(t.openBlock(),t.createBlock(Yt,{key:1,onClick:s[2]||(s[2]=r=>n.player.stop())})):t.createCommentVNode("",!0),t.createVNode(It,{onClick:s[3]||(s[3]=r=>n.player.show(t.unref(k).next))})])):t.createCommentVNode("",!0)]),_:1}))}}),Ut=t.createElementVNode("rect",{x:"17.5",y:"17.5",width:"12px",height:"12px"},null,-1),vt=t.createElementVNode("rect",{x:"17.5",y:"43",width:"12px",height:"12px"},null,-1),qt=t.createElementVNode("rect",{x:"17.5",y:"68.5",width:"12px",height:"12px"},null,-1),Jt=t.createElementVNode("rect",{x:"43",y:"17.5",width:"12px",height:"12px"},null,-1),Zt=t.createElementVNode("rect",{x:"43",y:"43",width:"12px",height:"12px"},null,-1),Qt=t.createElementVNode("rect",{x:"43",y:"68.5",width:"12px",height:"12px"},null,-1),te=t.createElementVNode("rect",{x:"68.5",y:"17.5",width:"12px",height:"12px"},null,-1),ee=t.createElementVNode("rect",{x:"68.5",y:"43",width:"12px",height:"12px"},null,-1),oe=t.createElementVNode("rect",{x:"68.5",y:"68.5",width:"12px",height:"12px"},null,-1),se=t.defineComponent({__name:"Button",props:{mouseOver:{type:[Boolean,Object],default:void 0}},setup(l){const e=l,o=t.computed(()=>[!0,void 0].includes(t.unref(e.mouseOver)));return(n,s)=>(t.openBlock(),t.createBlock(t.Transition,{name:"fade"},{default:t.withCtx(()=>[o.value?(t.openBlock(),t.createBlock(t.unref(O),{key:0,class:"toggle bottom left"},{default:t.withCtx(()=>[Ut,vt,qt,Jt,Zt,Qt,te,ee,oe]),_:1})):t.createCommentVNode("",!0)]),_:1}))}}),ne=t.defineComponent({__name:"Thumb",props:{rsc:{},size:{}},setup(l){return(e,o)=>(t.openBlock(),t.createElementBlock("li",null,[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(e.rsc.transition.component),{rsc:e.rsc,size:e.size.value,title:e.rsc.caption},null,8,["rsc","size","title"]))]))}});function re(l,e){const o=t.computed(()=>{let{width:s,height:r}=l.toValue();return s=s/4.2,r=s*90/160,s>160&&(s=160,r=90),new b({width:s,height:r})});function n(s){const{current:r}=e.resource;return r===null||r.index!==s?"":"current"}return{size:o,getClass:n}}const ie=500,le=t.defineComponent({__name:"List",props:{displaySize:{},player:{},mouseOver:{type:[Boolean,Object],default:void 0}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.ref(!1),r=t.computed(()=>{const a=[];return s.value&&a.push("visible"),a});async function c(){n.value!==null&&(o.player.stop(),s.value=!0,await t.nextTick(),n.value.clientHeight,n.value.style.marginTop="0")}function u(a){var i;n.value!==null&&((i=o.player.resource.current)==null?void 0:i.index)!==a&&(o.mouseOver!==void 0&&(n.value.clientHeight,n.value.style.marginTop="100%"),setTimeout(()=>{s.value=!1,a!==null&&o.player.show(a)},ie))}const p=re(o.displaySize,o.player);return e({show:c}),(a,i)=>(t.openBlock(),t.createElementBlock("nav",{class:t.normalizeClass(r.value),onClick:i[0]||(i[0]=d=>u(null))},[t.createElementVNode("ul",{ref_key:"$list",ref:n},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(a.player.resources.list,(d,h)=>(t.openBlock(),t.createBlock(ne,{key:h,rsc:d.resource,size:t.unref(p).size,class:t.normalizeClass(t.unref(p).getClass(h)),onClick:m=>u(h)},null,8,["rsc","size","class","onClick"]))),128))],512)],2))}}),ae={key:0,class:"flux-index"},ce=t.defineComponent({__name:"FluxIndex",props:{mouseOver:{type:[Boolean,Object],default:void 0},displaySize:{},player:{}},setup(l){const e=l,o=t.ref(null),n=t.computed(()=>e.player.resources.list.length>0);return(s,r)=>n.value?(t.openBlock(),t.createElementBlock("div",ae,[s.mouseOver?(t.openBlock(),t.createBlock(se,{key:0,"mouse-over":s.mouseOver,onClick:r[0]||(r[0]=c=>{var u;return(u=o.value)==null?void 0:u.show()})},null,8,["mouse-over"])):t.createCommentVNode("",!0),t.createVNode(le,{ref_key:"$fluxIndexList",ref:o,"display-size":s.displaySize,player:s.player,"mouse-over":s.mouseOver},null,8,["display-size","player","mouse-over"])])):t.createCommentVNode("",!0)}}),pe={key:0,class:"flux-pagination"},ue=["title","onClick"],de=t.defineComponent({__name:"FluxPagination",props:{player:{}},setup(l){const e=l,{player:{resources:o,resource:n,transition:s}}=e,r=t.computed(()=>o.list.length>0),c=p=>p.resource.caption,u=(p,a)=>{var h;const i=[a];let d=((h=n.current)==null?void 0:h.index)===p;return s.current!==null&&(d=!1),d===!0&&i.push("active"),i};return(p,a)=>r.value?(t.openBlock(),t.createElementBlock("nav",pe,[t.createElementVNode("ul",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(p.player.resources.list,(i,d)=>(t.openBlock(),t.createElementBlock("li",{key:d},[t.renderSlot(p.$slots,"default",{index:d,rsc:i,title:c(i),cssClass:u(d,"custom-pagination-item")},()=>[t.createElementVNode("span",{title:c(i),class:t.normalizeClass(u(d,"pagination-item")),onClick:h=>p.player.show(d)},null,10,ue)])]))),128))])])):t.createCommentVNode("",!0)}}),fe={class:"preloader"},he={key:0,class:"spinner"},me={class:"pct"},ye=t.createElementVNode("div",{class:"border"},null,-1),ge=t.defineComponent({__name:"FluxPreloader",props:{loader:{}},setup(l){return(e,o)=>{var n,s,r;return t.openBlock(),t.createElementBlock("div",fe,[t.renderSlot(e.$slots,"default",{loader:e.loader,preloading:(n=e.loader.value)==null?void 0:n.preLoading.length,lazyloading:(s=e.loader.value)==null?void 0:s.lazyLoading.length,pct:(r=e.loader.value)==null?void 0:r.progress},()=>{var c,u;return[(c=e.loader.value)!=null&&c.preLoading.length?(t.openBlock(),t.createElementBlock("div",he,[t.createElementVNode("div",me,t.toDisplayString((u=e.loader.value)==null?void 0:u.progress)+"%",1),ye])):t.createCommentVNode("",!0)]})])}}});function C(l,e){Object.assign(l,{direction:k.next},e)}const we=t.defineComponent({__name:"Fade",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({totalDuration:1200,easing:"ease-in"});C(s,o.options);const r={zIndex:1};return e({onPlay:()=>{n.value!==null&&n.value.transform({transition:`opacity ${s.totalDuration}ms ${s.easing}`,opacity:0})},totalDuration:s.totalDuration}),(u,p)=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(u.from.transition.component),{ref_key:"$from",ref:n,rsc:u.from,size:u.size,css:r},null,8,["rsc","size"]))}}),ke=t.defineComponent({__name:"Kenburn",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({totalDuration:1500,easing:"linear"});C(s,o.options);const r=[{scale:"1.7",translateX:"-35%",translateY:"-35%",originX:"top",originY:"left"},{scale:"1.7",translateX:"35%",translateY:"-35%",originX:"top",originY:"right"},{scale:"1.7",translateX:"-35%",translateY:"35%",originX:"bottom",originY:"left"},{scale:"1.7",translateX:"35%",translateY:"35%",originX:"bottom",originY:"right"}],c=E(Math.random()*4),u=r[c],p={transformOrigin:u.originX+" "+u.originY};return e({onPlay:()=>{n.value!==null&&n.value.transform({transition:`all ${s.totalDuration}ms ${s.easing}`,transform:`scale(${u.scale}) translate(${u.translateX}, ${u.translateY})`,opacity:0})},totalDuration:s.totalDuration}),(i,d)=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(i.from.transition.component),{ref_key:"$from",ref:n,rsc:i.from,size:i.size,css:p},null,8,["rsc","size"]))}}),ze=t.defineComponent({__name:"Swipe",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.ref(null),r=t.reactive({totalDuration:1400,easing:"ease-in-out"});C(r,o.options);const c={position:"absolute",top:0,display:"flex",flexWrap:"nowrap"},u={flex:"0 0 auto"};return{[k.prev]:()=>{Object.assign(c,{right:0,justifyContent:"flex-end"})},[k.next]:()=>{Object.assign(c,{left:0,justifyContent:"flex-start"})}}[r.direction](),e({onPlay:()=>{n.value!==null&&n.value.transform({transition:`width ${r.totalDuration}ms ${r.easing}`,width:0})},totalDuration:r.totalDuration}),(i,d)=>(t.openBlock(),t.createBlock(t.unref(j),{ref_key:"$wrapper",ref:n,size:i.size,css:c},{default:t.withCtx(()=>[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(i.from.transition.component),{ref_key:"$from",ref:s,rsc:i.from,size:i.size,css:u},null,8,["rsc","size"]))]),_:1},8,["size"]))}}),$e=t.defineComponent({__name:"Slide",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.ref(null),r=t.ref(null),c=t.reactive({totalDuration:1400,easing:"ease-in-out"});C(c,o.options);const u=`transform ${c.totalDuration}ms ${c.easing}`,p={size:new b({width:o.size.width.value*2,height:o.size.height.value}),css:{display:"flex",flexWrap:"nowrap"}};let a,i;({[k.prev]:()=>{a=o.to,i=o.from,p.css.transform="translateX(-50%)"},[k.next]:()=>{a=o.from,i=o.to}})[c.direction]();const h={[k.prev]:()=>{n.value.transform({transition:u,transform:"translateX(0)"})},[k.next]:()=>{n.value.transform({transition:u,transform:"translateX(-50%)"})}};return e({onPlay:()=>{n.value!==null&&h[c.direction]()},totalDuration:c.totalDuration}),(z,g)=>(t.openBlock(),t.createBlock(t.unref(j),t.mergeProps({ref_key:"$wrapper",ref:n},p),{default:t.withCtx(()=>[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(t.unref(a).transition.component),{ref_key:"$left",ref:s,rsc:t.unref(a),size:z.size},null,8,["rsc","size"])),(t.openBlock(),t.createBlock(t.resolveDynamicComponent(t.unref(i).transition.component),{ref_key:"$right",ref:r,rsc:t.unref(i),size:z.size},null,8,["rsc","size"]))]),_:1},16))}}),_e=t.defineComponent({__name:"Waterfall",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({rows:1,cols:10,tileDuration:600,tileDelay:90,easing:"cubic-bezier(0.55, 0.055, 0.675, 0.19)"});C(s,o.options);const r=s.tileDelay*s.cols+s.tileDuration,c={[k.prev]:p=>(s.cols-p-1)*s.tileDelay,[k.next]:p=>p*s.tileDelay};return e({onPlay:()=>{n.value!==null&&n.value.transform((p,a)=>{const i=`all ${s.tileDuration}ms ${s.easing} ${c[s.direction](a)}ms`;p.transform({transition:i,opacity:"0.1",transform:"translateY(100%)"})})},totalDuration:r}),(p,a)=>(t.openBlock(),t.createBlock(t.unref(S),{ref_key:"$grid",ref:n,rows:s.rows,cols:s.cols,size:p.size,rsc:p.from},null,8,["rows","cols","size","rsc"]))}}),Ce=t.defineComponent({__name:"Zip",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({rows:1,cols:10,tileDuration:600,easing:"ease-in",tileDelay:80});C(s,o.options);const r=s.tileDelay*s.cols+s.tileDuration,c={[k.prev]:p=>(s.cols-p-1)*s.tileDelay,[k.next]:p=>p*s.tileDelay};return e({onPlay:()=>{n.value!==null&&n.value.transform((p,a)=>{const i=`all ${s.tileDuration}ms ${s.easing} ${c[s.direction](a)}ms`;p.transform({transition:i,opacity:"0.1",transform:`translateY(${a%2?"-":""}100%)`})})},totalDuration:r}),(p,a)=>(t.openBlock(),t.createBlock(t.unref(S),{ref_key:"$grid",ref:n,rows:s.rows,cols:s.cols,size:p.size,rsc:p.from},null,8,["rows","cols","size","rsc"]))}}),be=t.defineComponent({__name:"Blinds2D",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({rows:1,cols:10,tileDuration:800,easing:"linear",tileDelay:100});C(s,o.options);const r={[M.front]:o.from},c=s.tileDelay*s.cols+s.tileDuration,u={prev:a=>(s.cols-a-1)*s.tileDelay,next:a=>a*s.tileDelay};return e({onPlay:()=>{n.value!==null&&n.value.transform((a,i)=>{const d=`all ${s.tileDuration}ms ${s.easing} ${u[s.direction](i)}ms`;a.transform({transition:d,opacity:"0.1",transform:"scaleX(0)"})})},totalDuration:c}),(a,i)=>(t.openBlock(),t.createBlock(t.unref(S),{ref_key:"$grid",ref:n,rows:s.rows,cols:s.cols,size:a.size,rscs:r},null,8,["rows","cols","size"]))}}),Be=t.defineComponent({__name:"Blocks1",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){var p;const o=l,n=t.ref(null),s=t.reactive({rows:8,cols:8,tileDuration:300,easing:"linear",tileDelay:1e3});if(C(s,o.options),!((p=o.options)!=null&&p.rows)){const a=o.size.width.value/s.cols;s.rows=E(o.size.height.value/a)}const r=s.tileDelay+s.tileDuration,c=()=>E(Math.random()*s.tileDelay);return e({onPlay:()=>{n.value!==null&&n.value.transform(a=>{const i=`all ${s.tileDuration}ms ${s.easing} ${c()}ms`;a.transform({transition:i,opacity:"0",transform:"scale(0.3, 0.3)"})})},totalDuration:r}),(a,i)=>(t.openBlock(),t.createBlock(t.unref(S),{ref_key:"$grid",ref:n,rows:s.rows,cols:s.cols,size:a.size,rsc:a.from},null,8,["rows","cols","size","rsc"]))}}),Se=t.defineComponent({__name:"Blocks2",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){var z;const o=l,n=t.ref(null),s=t.ref(null),r=t.reactive({rows:8,cols:8,tileDuration:800,tileDelay:80,easing:"ease"});C(r,o.options);const c=r.tileDelay*(r.rows+r.cols)+r.tileDuration;if(!((z=o.options)!=null&&z.rows)){const g=o.size.width.value/r.cols;r.rows=Math.floor(o.size.height.value/g)}const u={rsc:null,css:{position:"absolute",top:0,left:0,zIndex:1}},p=JSON.parse(JSON.stringify(u));p.css.zIndex=2;let a={};({prev:()=>{p.rsc=o.to,u.rsc=o.from,a={opacity:0,transform:"scale(0.3)"}},next:()=>{p.rsc=o.from}})[r.direction]();const d=g=>{const _=n.value.getRowNumber(g,r.cols);let T=n.value.getColNumber(g,r.cols)+_;return r.direction===k.prev&&(T=r.rows+r.cols-T-1),T*r.tileDelay},h={prev:()=>{n.value.transform((g,_)=>{g.transform({transition:`all ${r.tileDuration}ms ${r.easing} ${d(_)}ms`,opacity:1,transform:"scale(1)"})})},next:()=>{n.value.transform((g,_)=>{g.transform({transition:`all ${r.tileDuration}ms ${r.easing} ${d(_)}ms`,opacity:0,transform:"scale(0.3)"})})}};return e({onPlay:()=>{n.value!==null&&h[r.direction]()},totalDuration:c}),(g,_)=>(t.openBlock(),t.createElementBlock("div",null,[t.createVNode(t.unref(S),t.mergeProps({ref_key:"$grid",ref:n,rows:r.rows,cols:r.cols,size:g.size,"tile-css":t.unref(a)},t.unref(p)),null,16,["rows","cols","size","tile-css"]),u.rsc!==null?(t.openBlock(),t.createBlock(t.resolveDynamicComponent(u.rsc.transition.component),t.mergeProps({key:0,ref_key:"$background",ref:s,size:g.size},u),null,16,["size"])):t.createCommentVNode("",!0)]))}}),De=t.defineComponent({__name:"Concentric",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({circles:7,tileDuration:800,easing:"linear",tileDelay:150});C(s,o.options);const r=s.tileDelay*s.circles+s.tileDuration,c=p=>p*s.tileDelay;return e({onPlay:()=>{if(n.value===null)return;const p={prev:"-90",next:"90"};n.value.transform((a,i)=>{const d=`all ${s.tileDuration}ms ${s.easing} ${c(i)}ms`;a.transform({transition:d,opacity:"0",transform:`rotateZ(${p[s.direction]}deg)`})})},totalDuration:r}),(p,a)=>(t.openBlock(),t.createBlock(t.unref(H),{ref_key:"$vortex",ref:n,size:p.size,circles:s.circles,rsc:p.from},null,8,["size","circles","rsc"]))}}),xe=t.defineComponent({__name:"Warp",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({circles:7,tileDuration:800,easing:"linear",tileDelay:150});C(s,o.options);const r=s.tileDelay*s.circles+s.tileDuration,c={[k.prev]:a=>(s.circles-a-1)*s.tileDelay,[k.next]:a=>a*s.tileDelay},u=a=>a%2===0?"-90":"90";return e({onPlay:()=>{n.value!==null&&n.value.transform((a,i)=>{const d=`all ${s.tileDuration}ms ${s.easing} ${c[s.direction](i)}ms`;a.transform({transition:d,opacity:"0",transform:`rotateZ(${u(i)}deg)`})})},totalDuration:r}),(a,i)=>(t.openBlock(),t.createBlock(t.unref(H),{ref_key:"$vortex",ref:n,size:a.size,circles:s.circles,rsc:a.from},null,8,["size","circles","rsc"]))}}),Pe=t.defineComponent({__name:"Camera",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.ref(null),r=t.reactive({circles:2,totalDuration:900,easing:"cubic-bezier(0.385, 0, 0.795, 0.560)",backgroundColor:"#111"});C(r,o.options);const c={alignSelf:"center",flex:"none"},u=G(o.size.toValue()),p=new b({width:u,height:u}),a={boxSizing:"border-box",position:"absolute",display:"flex",justifyContent:"center",overflow:"hidden",borderRadius:"50%",border:"0 solid "+r.backgroundColor,top:(o.size.height.value-u)/2+"px",left:(o.size.width.value-u)/2+"px"};return e({onPlay:()=>{[n.value,s.value].includes(null)||(n.value.transform({transition:`all ${r.totalDuration/2-50}ms ${r.easing} 0ms`,borderWidth:u/2+"px"}),setTimeout(()=>{s.value.hide(),n.value.transform({transition:`all ${r.totalDuration/2-50}ms ${r.easing} 0ms`,borderWidth:0})},r.totalDuration/2+50))},totalDuration:r.totalDuration}),(d,h)=>(t.openBlock(),t.createBlock(t.unref(j),{ref_key:"$wrapper",ref:n,size:t.unref(p),css:a},{default:t.withCtx(()=>[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(d.from.transition.component),{ref_key:"$from",ref:s,size:d.size,rsc:d.from,css:c},null,8,["size","rsc"]))]),_:1},8,["size"]))}}),Ee=t.defineComponent({__name:"Cube",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({totalDuration:1400,easing:"ease-out"});C(s,o.options),Object.assign(o.maskStyle,{perspective:"1600px",overflow:"visible"});const r={front:o.from,left:o.to,right:o.to},c={transition:`all ${s.totalDuration}ms ${s.easing}`};return e({onPlay:()=>{if(n.value===null)return;o.displayComponent.value!==null&&o.displayComponent.hide();const p={next:N.left,prev:N.right};n.value.turn(p[s.direction])},totalDuration:s.totalDuration}),(p,a)=>(t.openBlock(),t.createBlock(t.unref(X),{ref_key:"$cube",ref:n,rscs:r,size:p.size,depth:p.size.width.value,css:c},null,8,["size","depth"]))}}),Le=t.defineComponent({__name:"Book",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.ref(null),r=t.reactive({totalDuration:1200,easing:"ease-out"});C(r,o.options);const c=new b({width:x(o.size.width.value/2),height:o.size.height.value}),u={perspective:"1600px",width:"100%",height:"100%"},p=new V({top:0,left:0}),a={position:"absolute",top:0,left:0},i={rscs:{front:o.from,back:o.to},offsets:{front:new V({top:0,left:0}),back:new V({top:0,left:0})},origin:void 0,css:{position:"absolute",top:0,left:0}},d=x(o.size.width.value/2),h=d.toString()+"px";o.maskStyle.overflow="visible",{prev:()=>{p.left.value=d,a.left=h,i.offsets.back.left.value=d,i.origin="right center",i.css={...i.css}},next:()=>{i.offsets.front.left.value=d,i.origin="left center",i.css={...i.css,left:h}}}[r.direction]();const z={prev:"180",next:"-180"}[r.direction];return e({onPlay:()=>{[n.value,s.value].includes(null)||s.value.transform({transition:`transform ${r.totalDuration}ms ${r.easing}`,transform:`rotateY(${z}deg)`})},totalDuration:r.totalDuration}),(_,P)=>(t.openBlock(),t.createElementBlock("div",{style:u},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(_.from.transition.component),{ref_key:"$from",ref:n,rsc:_.from,size:_.size,"view-size":t.unref(c),offset:t.unref(p),css:a},null,8,["rsc","size","view-size","offset"])),t.createVNode(t.unref(X),{ref_key:"$cube",ref:s,rscs:i.rscs,size:_.size,"view-size":t.unref(c),offsets:i.offsets,origin:i.origin,css:i.css},null,8,["rscs","size","view-size","offsets","origin","css"])]))}}),Ve=t.defineComponent({__name:"Fall",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({totalDuration:1600,easing:"ease-in"});C(s,o.options),Object.assign(o.maskStyle,{perspective:"1600px",overflow:"visible"});const r={transformOrigin:"center bottom"};return e({onPlay:()=>{n.value!==null&&n.value.transform({transition:`transform ${s.totalDuration}ms ${s.easing}`,transform:"rotateX(-83.6deg)"})},totalDuration:s.totalDuration}),(u,p)=>(t.openBlock(),t.createBlock(t.resolveDynamicComponent(u.from.transition.component),{ref_key:"$from",ref:n,rsc:u.from,size:u.size,style:r},null,8,["rsc","size"]))}}),Re=t.defineComponent({__name:"Wave",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({rows:1,cols:8,tileDuration:900,tileDelay:110,easing:"cubic-bezier(0.3, -0.3, 0.735, 0.285)",sideColor:"#333"});C(s,o.options),o.maskStyle.overflow="visible";const r={front:o.from,top:o.to},c={left:s.sideColor,right:s.sideColor},u={overflow:"visible",perspective:"1200px"},p=s.tileDelay*s.cols+s.tileDuration,a={[k.prev]:d=>(s.cols-d-1)*s.tileDelay,[k.next]:d=>d*s.tileDelay};return e({onPlay:()=>{n.value!==null&&(o.displayComponent&&o.displayComponent.hide(),n.value.transform((d,h)=>{const m=`all ${s.tileDuration}ms ${s.easing} ${a[s.direction](h)}ms`;d.setCss({transition:m}),d.turn(N.bottom)}))},totalDuration:p}),(d,h)=>(t.openBlock(),t.createBlock(t.unref(S),{ref_key:"$grid",ref:n,rows:s.rows,cols:s.cols,size:d.size,rscs:r,colors:c,depth:d.size.height.value,css:u},null,8,["rows","cols","size","depth"]))}}),Te=t.defineComponent({__name:"Blinds3D",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({rows:1,cols:6,tileDuration:800,easing:"ease-out",tileDelay:150});C(s,o.options);const r={perspective:"800px"},c={front:o.from,back:o.to},u=s.tileDelay*s.cols+s.tileDuration;o.maskStyle.overflow="visible";const p={prev:i=>(s.cols-i-1)*s.tileDelay,next:i=>i*s.tileDelay};return e({onPlay:()=>{if(n.value===null)return;o.displayComponent&&o.displayComponent.hide();const i={prev:"backl",next:"backr"};n.value.transform((d,h)=>{const m=`all ${s.tileDuration}ms ${s.easing} ${p[s.direction](h)}ms`;d.setCss({transition:m}),d.turn(i[s.direction])})},totalDuration:u}),(i,d)=>(t.openBlock(),t.createBlock(t.unref(S),{ref_key:"$grid",ref:n,rows:s.rows,cols:s.cols,size:i.size,rscs:c,css:r},null,8,["rows","cols","size"]))}}),Fe=t.defineComponent({__name:"Round1",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){var d;const o=l,n=t.ref(null),s=t.reactive({rows:0,cols:8,tileDuration:800,easing:"ease-out",tileDelay:150});C(s,o.options);const r={front:o.from,back:o.to},c={perspective:"800px"};if(o.maskStyle.overflow="visible",!((d=o.options)!=null&&d.rows)){const h=o.size.width.value/s.cols;s.rows=E(o.size.height.value/h)}const u=s.rows>s.cols?s.rows:s.cols,p=s.tileDelay*u*2,a=h=>{const m=n.value.getRowNumber(h,s.cols);let g=n.value.getColNumber(h,s.cols)+m;return s.direction===k.prev&&(g=s.rows+s.cols-g-1),g*s.tileDelay};return e({onPlay:()=>{if(n.value===null)return;o.displayComponent&&o.displayComponent.hide();const h={[k.prev]:N.backl,[k.next]:N.backr};n.value.transform((m,z)=>{const g=`all ${s.tileDuration}ms ${s.easing} ${a(z)}ms`;m.setCss({transition:g}),m.turn(h[s.direction])})},totalDuration:p}),(h,m)=>(t.openBlock(),t.createBlock(t.unref(S),{ref_key:"$grid",ref:n,rows:s.rows,cols:s.cols,size:h.size,rscs:r,css:c},null,8,["rows","cols","size"]))}}),Ne=t.defineComponent({__name:"Round2",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){var i;const o=l,n=t.ref(null),s=t.reactive({rows:0,cols:9,tileDuration:800,tileDelay:100,easing:"linear",rotateX:-540});C(s,o.options),o.maskStyle.overflow="visible";const r={perspective:"1200px"},c={backfaceVisibility:"hidden"};if(!((i=o.options)!=null&&i.rows)){const d=o.size.width.value/s.cols;s.rows=E(o.size.height.value/d)}const u=(s.cols/2+s.rows)*(s.tileDelay*2),p=d=>{const h=n.value.getRowNumber(d,s.cols),m=n.value.getColNumber(d,s.cols);let z,g;return s.direction===k.prev?(z=Math.abs(s.rows/2-.5-h),g=Math.abs(s.cols-m)):(z=Math.abs(s.rows/2-.5-h),g=Math.abs(m)),(z+g-1)*s.tileDelay};return e({onPlay:()=>{n.value!==null&&n.value.transform((d,h)=>{const m=`all ${s.tileDuration}ms ${s.easing} ${p(h)}ms`;d.transform({transition:m,opacity:"0",transform:`rotateY(${s.rotateX.toString()}deg)`})})},totalDuration:u}),(d,h)=>(t.openBlock(),t.createBlock(t.unref(S),{ref_key:"$grid",ref:n,rows:s.rows,cols:s.cols,size:d.size,depth:0,rsc:d.from,css:r,"tile-css":c},null,8,["rows","cols","size","rsc"]))}}),Oe=t.defineComponent({__name:"Explode",props:{size:{},from:{},to:{},options:{},maskStyle:{},displayComponent:{}},setup(l,{expose:e}){const o=l,n=t.ref(null),s=t.reactive({rows:9,cols:9,tileDuration:300,easing:"linear",tileDelay:100});C(s,o.options);const r={overflow:"visible"};if(o.maskStyle.overflow="visible",!o.options.rows){const a=o.size.width.value/s.cols;s.rows=E(o.size.height.value/a)}const c=(s.cols/2+s.rows/2)*(s.tileDelay*2),u=a=>{const i=n.value.getRowNumber(a,s.cols),d=n.value.getColNumber(a,s.cols),h=Math.abs(s.rows/2-.5-i),m=Math.abs(s.cols/2-.5-d);return(h+m-1)*s.tileDelay};return e({onPlay:()=>{n.value!==null&&n.value.transform((a,i)=>{const d=`all ${s.tileDuration}ms ${s.easing} ${u(i)}ms`;a.transform({transition:d,borderRadius:"100%",opacity:"0",transform:"scale(2)"})})},totalDuration:c}),(a,i)=>(t.openBlock(),t.createBlock(t.unref(S),{ref_key:"$grid",ref:n,rows:s.rows,cols:s.cols,size:a.size,rsc:a.from,css:r},null,8,["rows","cols","size","rsc"]))}});y.Blinds2D=be,y.Blinds3D=Te,y.Blocks1=Be,y.Blocks2=Se,y.Book=Le,y.Camera=Pe,y.Concentric=De,y.Cube=Ee,y.Directions=k,y.Explode=Oe,y.Fade=we,y.Fall=Ve,y.FluxButton=O,y.FluxCaption=Nt,y.FluxControls=Kt,y.FluxCube=X,y.FluxGrid=S,y.FluxImage=W,y.FluxIndex=ce,y.FluxPagination=de,y.FluxParallax=Ct,y.FluxPreloader=ge,y.FluxTransition=tt,y.FluxVortex=H,y.FluxWrapper=j,y.Img=ft,y.Kenburn=ke,y.Player=st,y.PlayerResource=et,y.PlayerTransition=ot,y.Position=V,y.ResizeTypes=B,y.Resource=K,y.Round1=Fe,y.Round2=Ne,y.Sides=M,y.Size=b,y.Slide=$e,y.Statuses=D,y.Swipe=ze,y.Turns=N,y.VueFlux=Ft,y.Warp=xe,y.Waterfall=_e,y.Wave=Re,y.Zip=Ce,y.useTransition=C,Object.defineProperty(y,Symbol.toStringTag,{value:"Module"})});
